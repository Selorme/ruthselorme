<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data-Driven Decision Making Concept Map</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const ConceptMap = () => {
          const [zoom, setZoom] = useState(0.7);
          const [isDragging, setIsDragging] = useState(false);
          const [position, setPosition] = useState({ x: 0, y: 0 });
          const [dragStart, setDragStart] = useState({ x: 0, y: 0 });

          const handleZoomIn = () => setZoom(prev => Math.min(prev + 0.1, 1.5));
          const handleZoomOut = () => setZoom(prev => Math.max(prev - 0.1, 0.4));
          const handleReset = () => {
            setZoom(0.7);
            setPosition({ x: 0, y: 0 });
          };

          const handleMouseDown = (e) => {
            setIsDragging(true);
            setDragStart({ x: e.clientX - position.x, y: e.clientY - position.y });
          };

          const handleMouseMove = (e) => {
            if (isDragging) {
              setPosition({
                x: e.clientX - dragStart.x,
                y: e.clientY - dragStart.y
              });
            }
          };

          const handleMouseUp = () => setIsDragging(false);

          // Central concept - larger and centered
          const centralConcept = {
            id: 'central',
            label: 'DATA-DRIVEN\nDECISION-MAKING',
            x: 600,
            y: 400,
            color: 'bg-blue-600',
            width: 180,
            height: 100
          };

          // Primary concepts - evenly distributed around center
          const primaryConcepts = [
            // Top row
            { id: 'ddo', label: 'Data-Driven\nOrganization', x: 300, y: 150, color: 'bg-purple-600', width: 140, height: 80 },
            { id: 'culture', label: 'Data-Driven\nCulture', x: 900, y: 150, color: 'bg-purple-600', width: 140, height: 80 },
            
            // Middle row
            { id: 'analytics', label: 'Data Analytics\n& Science', x: 150, y: 400, color: 'bg-green-600', width: 140, height: 80 },
            { id: 'leadership', label: 'Leadership\nRoles', x: 1050, y: 400, color: 'bg-orange-600', width: 140, height: 80 },
            
            // Bottom row
            { id: 'models', label: 'Decision-Making\nModels', x: 300, y: 600, color: 'bg-red-600', width: 140, height: 80 },
            { id: 'transformation', label: 'Digital\nTransformation', x: 900, y: 600, color: 'bg-indigo-600', width: 140, height: 80 }
          ];

          // Secondary concepts - positioned around their primary concepts
          const secondaryConcepts = [
            // Analytics cluster (left side)
            { id: 'eras', label: 'Analytics\nEvolution\n(1.0-4.0)', x: 100, y: 250, color: 'bg-green-400', width: 120, height: 75 },
            { id: 'datascience', label: 'Data Science\nInterdisciplinary\nField', x: 150, y: 550, color: 'bg-green-400', width: 120, height: 75 },
            
            // Organization & Culture cluster (top)
            { id: 'anderson', label: 'Anderson\nCategories\n(2015)', x: 450, y: 30, color: 'bg-purple-400', width: 120, height: 75 },
            { id: 'barriers', label: 'Barriers:\nCulture,\nSkills, Quality', x: 750, y: 30, color: 'bg-purple-400', width: 120, height: 75 },
            
            // Leadership cluster (right side)
            { id: 'personas', label: 'Leadership\nPersonas:\nVisionary,\nAdministrator', x: 1250, y: 280, color: 'bg-orange-400', width: 120, height: 90 },
            { id: 'styles', label: 'Leadership\nApproaches:\nTransformational,\nCollaborative', x: 1200, y: 520, color: 'bg-orange-400', width: 120, height: 90 },
            
            // Decision models cluster (bottom left)
            { id: 'rational', label: 'Classical/\nRational\nModel', x: 100, y: 750, color: 'bg-red-400', width: 110, height: 75 },
            { id: 'bounded', label: 'Bounded\nRationality\n(Simon)', x: 250, y: 780, color: 'bg-red-400', width: 110, height: 75 },
            { id: 'retrospective', label: 'Retrospective\nModel\n(Soelberg)', x: 400, y: 750, color: 'bg-red-400', width: 110, height: 75 },
            
            // Decision types
            { id: 'quadrants', label: 'Decision-Data\nQuadrants:\nStructured/\nUnstructured', x: 550, y: 700, color: 'bg-red-400', width: 120, height: 90 },
            { id: 'individual', label: 'Individual\nvs Group\nDecisions', x: 50, y: 650, color: 'bg-red-400', width: 110, height: 75 },
            
            // Transformation cluster (bottom right)
            { id: 'nemid', label: 'Use Case:\nNemID\nDenmark', x: 1050, y: 750, color: 'bg-indigo-400', width: 110, height: 75 },
            { id: 'collaboration', label: 'Public-Private\nCollaboration', x: 900, y: 780, color: 'bg-indigo-400', width: 110, height: 75 },
            { id: 'governance', label: 'Governance\n& Resources', x: 750, y: 750, color: 'bg-indigo-400', width: 110, height: 75 }
          ];

          // Connections with labels
          const connections = [
            // Central to primary - main connections
            { from: 'central', to: 'ddo', label: 'requires' },
            { from: 'central', to: 'culture', label: 'embedded in' },
            { from: 'central', to: 'analytics', label: 'uses' },
            { from: 'central', to: 'leadership', label: 'guided by' },
            { from: 'central', to: 'models', label: 'applies' },
            { from: 'central', to: 'transformation', label: 'enables' },
            
            // Analytics cluster
            { from: 'analytics', to: 'eras', label: 'evolved\nthrough' },
            { from: 'analytics', to: 'datascience', label: 'includes' },
            
            // Culture cluster
            { from: 'ddo', to: 'anderson', label: 'categorized\nby' },
            { from: 'culture', to: 'barriers', label: 'overcomes' },
            
            // Leadership cluster
            { from: 'leadership', to: 'personas', label: 'expressed\nas' },
            { from: 'leadership', to: 'styles', label: 'adopts' },
            
            // Models cluster
            { from: 'models', to: 'rational', label: 'includes' },
            { from: 'models', to: 'bounded', label: 'includes' },
            { from: 'models', to: 'retrospective', label: 'includes' },
            { from: 'models', to: 'quadrants', label: 'structures\nvia' },
            { from: 'models', to: 'individual', label: 'differentiates' },
            
            // Transformation cluster
            { from: 'transformation', to: 'nemid', label: 'exemplified\nby' },
            { from: 'transformation', to: 'collaboration', label: 'requires' },
            { from: 'transformation', to: 'governance', label: 'depends\non' },
            
            // Cross-connections between primary concepts
            { from: 'ddo', to: 'analytics', label: 'leverages', style: 'dashed' },
            { from: 'leadership', to: 'culture', label: 'shapes', style: 'dashed' },
            { from: 'transformation', to: 'leadership', label: 'led by', style: 'dashed' }
          ];

          const allConcepts = [centralConcept, ...primaryConcepts, ...secondaryConcepts];

          const getConceptById = (id) => allConcepts.find(c => c.id === id);

          // SVG icons as inline components
          const ZoomInIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
              <line x1="11" y1="8" x2="11" y2="14"></line>
              <line x1="8" y1="11" x2="14" y2="11"></line>
            </svg>
          );

          const ZoomOutIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
              <line x1="8" y1="11" x2="14" y2="11"></line>
            </svg>
          );

          const MaximizeIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
              <polyline points="15 3 21 3 21 9"></polyline>
              <polyline points="9 21 3 21 3 15"></polyline>
              <line x1="21" y1="3" x2="14" y2="10"></line>
              <line x1="3" y1="21" x2="10" y2="14"></line>
            </svg>
          );

          return (
            <div className="w-full h-screen bg-gray-50 flex flex-col">
              {/* Header */}
              <div className="bg-white shadow-sm p-4 border-b">
                <h1 className="text-2xl font-bold text-gray-800 mb-2">
                  Data-Driven Decision-Making: Comprehensive Concept Map
                </h1>
                <p className="text-sm text-gray-600">
                  Interactive visualization of key concepts from Modules 1-4 | Drag to pan, use buttons to zoom
                </p>
              </div>

              {/* Controls */}
              <div className="bg-white border-b p-3 flex items-center gap-4">
                <div className="flex gap-2">
                  <button
                    onClick={handleZoomIn}
                    className="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition"
                    title="Zoom In"
                  >
                    <ZoomInIcon />
                  </button>
                  <button
                    onClick={handleZoomOut}
                    className="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition"
                    title="Zoom Out"
                  >
                    <ZoomOutIcon />
                  </button>
                  <button
                    onClick={handleReset}
                    className="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition"
                    title="Reset View"
                  >
                    <MaximizeIcon />
                  </button>
                </div>
                <div className="text-sm text-gray-600 font-medium">
                  Zoom: {(zoom * 100).toFixed(0)}%
                </div>
              </div>

              {/* Canvas */}
              <div 
                className="flex-1 overflow-hidden relative cursor-move bg-gradient-to-br from-gray-50 to-gray-100"
                onMouseDown={handleMouseDown}
                onMouseMove={handleMouseMove}
                onMouseUp={handleMouseUp}
                onMouseLeave={handleMouseUp}
              >
                <div
                  style={{
                    transform: `translate(${position.x}px, ${position.y}px) scale(${zoom})`,
                    transformOrigin: '0 0',
                    transition: isDragging ? 'none' : 'transform 0.1s ease-out',
                    width: '1400px',
                    height: '900px',
                    position: 'absolute',
                    left: '50%',
                    top: '50%',
                    marginLeft: '-700px',
                    marginTop: '-450px'
                  }}
                >
                  {/* SVG for connections */}
                  <svg 
                    className="absolute inset-0 w-full h-full"
                    style={{ width: '1400px', height: '900px' }}
                  >
                    {connections.map((conn, idx) => {
                      const from = getConceptById(conn.from);
                      const to = getConceptById(conn.to);
                      if (!from || !to) return null;

                      const fromX = from.x;
                      const fromY = from.y;
                      const toX = to.x;
                      const toY = to.y;
                      
                      const dx = toX - fromX;
                      const dy = toY - fromY;
                      const distance = Math.sqrt(dx * dx + dy * dy);
                      
                      // Calculate midpoint for label
                      const midX = (fromX + toX) / 2;
                      const midY = (fromY + toY) / 2;

                      const isDashed = conn.style === 'dashed';

                      return (
                        <g key={idx}>
                          <line
                            x1={fromX}
                            y1={fromY}
                            x2={toX}
                            y2={toY}
                            stroke={isDashed ? "#6b7280" : "#9ca3af"}
                            strokeWidth={isDashed ? "2" : "2.5"}
                            strokeDasharray={isDashed ? "5,5" : "none"}
                            markerEnd="url(#arrowhead)"
                            opacity="0.7"
                          />
                          <text
                            x={midX}
                            y={midY - 8}
                            textAnchor="middle"
                            className="text-xs font-medium fill-gray-700"
                            style={{ fontSize: '11px', pointerEvents: 'none' }}
                          >
                            {conn.label.split('\n').map((line, i) => (
                              <tspan key={i} x={midX} dy={i === 0 ? 0 : 12}>
                                {line}
                              </tspan>
                            ))}
                          </text>
                        </g>
                      );
                    })}
                    
                    <defs>
                      <marker
                        id="arrowhead"
                        markerWidth="10"
                        markerHeight="10"
                        refX="9"
                        refY="3"
                        orient="auto"
                      >
                        <polygon points="0 0, 10 3, 0 6" fill="#9ca3af" />
                      </marker>
                    </defs>
                  </svg>

                  {/* Concept nodes */}
                  {allConcepts.map((concept) => (
                    <div
                      key={concept.id}
                      className={`absolute ${concept.color} text-white rounded-xl shadow-lg flex items-center justify-center text-center p-3 border-3 border-white hover:shadow-2xl hover:scale-105 transition-all cursor-pointer`}
                      style={{
                        left: concept.x,
                        top: concept.y,
                        width: concept.width,
                        height: concept.height,
                        transform: 'translate(-50%, -50%)',
                        fontSize: concept.id === 'central' ? '16px' : '13px',
                        fontWeight: concept.id === 'central' ? 'bold' : '600'
                      }}
                    >
                      <span className="whitespace-pre-line leading-tight">
                        {concept.label}
                      </span>
                    </div>
                  ))}
                </div>
              </div>

              {/* Legend */}
              <div className="bg-white border-t p-4">
                <div className="grid grid-cols-3 gap-4 text-xs">
                  <div>
                    <h3 className="font-bold text-sm mb-2">Color Key:</h3>
                    <div className="space-y-1">
                      <div className="flex items-center gap-2">
                        <div className="w-4 h-4 bg-blue-600 rounded"></div>
                        <span>Central Concept</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <div className="w-4 h-4 bg-purple-600 rounded"></div>
                        <span>Organization & Culture</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <div className="w-4 h-4 bg-green-600 rounded"></div>
                        <span>Analytics & Science</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <div className="w-4 h-4 bg-orange-600 rounded"></div>
                        <span>Leadership</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <div className="w-4 h-4 bg-red-600 rounded"></div>
                        <span>Decision Models</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <div className="w-4 h-4 bg-indigo-600 rounded"></div>
                        <span>Digital Transformation</span>
                      </div>
                    </div>
                  </div>
                  <div>
                    <h3 className="font-bold text-sm mb-2">Connection Types:</h3>
                    <div className="space-y-1">
                      <div className="flex items-center gap-2">
                        <div className="w-8 h-0.5 bg-gray-400"></div>
                        <span>Direct relationship</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <div className="w-8 h-0.5 bg-gray-500 border-dashed border-t-2"></div>
                        <span>Cross-connection</span>
                      </div>
                    </div>
                    <h3 className="font-bold text-sm mt-3 mb-2">Key Relationships:</h3>
                    <ul className="space-y-1 text-gray-700">
                      <li>• Central concept connects to 6 primary areas</li>
                      <li>• Each primary area has 2-5 secondary concepts</li>
                      <li>• Solid lines show direct dependencies</li>
                      <li>• Dashed lines show supporting relationships</li>
                    </ul>
                  </div>
                  <div>
                    <h3 className="font-bold text-sm mb-2">Key Insights:</h3>
                    <ul className="space-y-1 text-gray-700">
                      <li>• <strong>Analytics Evolution:</strong> 4 eras (1.0-4.0)</li>
                      <li>• <strong>Decision Models:</strong> Rational, Bounded, Retrospective</li>
                      <li>• <strong>Leadership Personas:</strong> 5 distinct styles</li>
                      <li>• <strong>Barriers:</strong> Culture, skills, data quality</li>
                      <li>• <strong>Case Study:</strong> NemID Denmark transformation</li>
                      <li>• <strong>Integration:</strong> Leadership shapes culture, which enables transformation</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        ReactDOM.render(<ConceptMap />, document.getElementById('root'));
    </script>
</body>
</html>